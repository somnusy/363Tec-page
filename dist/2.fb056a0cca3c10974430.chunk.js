webpackJsonp([2],{34:function(t,e,i){i(65),i(66);var a=i(12)(i(56),i(85),"data-v-31ce2785",null);a.options.__file="D:\\idea_workspace\\363Tec\\363Tec-page\\vue\\src\\views\\layout\\toLiveViewAngle.vue",a.esModule&&Object.keys(a.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] toLiveViewAngle.vue: functional components are not supported with templates, they should use render functions."),t.exports=a.exports},56:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{postDel:!1,confirmDel:!1,delTishi:!1,paramTishi:"",tishi:!1,failedAdd:!1,theme1:"light",user:"0",tb_colums:[{title:"视角流ID",key:"streamId",align:"center"},{title:"视角图片URL",key:"imageUrl",align:"center"},{title:"视角标题",key:"title",align:"center"},{title:"视角副标题",key:"subTitle",align:"center"},{title:"视角播放权限",key:"requireUserLevel",align:"center"},{title:"视角顺序",key:"index",align:"center"},{title:"视角操作",key:"action",align:"center",render:function(e,i){return e("i-button",{props:{type:"error"},on:{click:function(){t.deleteRow(i.row.viewId)}}},"删除")}}],tb_data:[{viewId:9999919,streamId:"test",imageUrl:"test",title:"test",subTitle:"test",requireUserLevel:1,index:"test"}],controlLcedit:"",controlIndex:"",controlAdedit:"",rankingPic:"",danmakuSend:"",danmakuIndex:"",danmakuDataPage:"",area:"",delIndex:0}},methods:{delView:function(){var t=this;t.delTishi=!1,t.$http.post(BASE+"/livehost/delLiveViewAngle.do",{concertId:t.concertID,viewId:t.delIndex},{emulateJSON:!0}).then(function(e){"000000"==e.body.data.code?(t.$Message.success("删除数据成功",2),setTimeout(function(){t.refresh()},200)):t.$Message.error("删除数据失败",2)}).catch(function(e){t.$Message.error("未知错误",2)})},deleteRow:function(t){var e=this;e.delIndex=t,e.delTishi=!0},addRow:function(){var t=this,e=new RegExp("^[1-9]{1,4}$");t.input_ID&&""!=t.input_ID.trim()?t.input_URL&&""!=t.input_URL.trim()?t.input_title&&""!=t.input_title.trim()?!t.input_title||t.input_title.trim().length>16?(t.paramTishi="视角标题过长，请精简到16个字以内。。",t.failedAdd=!0):t.input_viceTitle&&""!=t.input_viceTitle.trim()?!t.input_viceTitle||t.input_viceTitle.trim().length>16?(t.paramTishi="视角副标题过长，请精简到16个字以内。。",t.failedAdd=!0):t.input_order&&e.test(t.input_order)?t.tishi=!0:(t.paramTishi="视角数顺序为1到9999，请输入。。",t.failedAdd=!0):(t.paramTishi="视角副标题不能为空，请输入。。",t.failedAdd=!0):(t.paramTishi="视角标题不能为空，请输入。。",t.failedAdd=!0):(t.paramTishi="视角图片URL不能为空，请输入。。",t.failedAdd=!0):(t.paramTishi="视角流ID不能为空，请输入。。",t.failedAdd=!0)},confirmAdd:function(){var t=this;t.tishi=!1;var e=10*t.concertID;if(null!=t.tb_data&&t.tb_data.length>0){var i=10*t.concertID,a=1,r=!0,n=!1,o=void 0;try{for(var s,l=t.tb_data[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c.viewId>i&&(i=c.viewId)}}catch(t){n=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}var u=(i+"").length-t.concertID.length;if(u>0)for(var d=0;d<u;d++)a*=10;var v=i-t.concertID*a;e=t.concertID+""+(v+1)}t.$http.post(BASE+"/livehost/saveLiveViewAngle.do",{concertId:t.concertID,viewId:e,streamId:t.input_ID,title:t.input_title,imageUrl:t.input_URL,subTitle:t.input_viceTitle,requireUserLevel:t.user,index:t.input_order},{emulateJSON:!0}).then(function(e){var i=e.body.data;if("000000"==i.code){t.tb_data=i.data.liveViewAngles;var a=!0,r=!1,n=void 0;try{for(var o,s=t.tb_data[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;0==l.requireUserLevel?l.requireUserLevel="匿名用户":1==l.requireUserLevel?l.requireUserLevel="普通用户":2==l.requireUserLevel&&(l.requireUserLevel="VIP用户")}}catch(t){r=!0,n=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw n}}t.$Message.success("添加成功",2),t.input_ID="",t.input_title="",t.input_URL="",t.input_viceTitle="",t.user="",t.input_order=""}else t.$Message.error("添加失败",2)}).catch(function(e){t.$Message.error("未知错误",2)})},failedAddOK:function(){this.failedAdd=!1},refresh:function(){var t=this;t.$http.post(BASE+"/livehost/toLiveViewAngle.do",{concertID:t.concertID},{emulateJSON:!0}).then(function(e){var i=e.body.data;if("000000"==i.code){t.tb_data=i.data.list;var a=!0,r=!1,n=void 0;try{for(var o,s=t.tb_data[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;0==l.requireUserLevel?l.requireUserLevel="匿名用户":1==l.requireUserLevel?l.requireUserLevel="普通用户":2==l.requireUserLevel&&(l.requireUserLevel="VIP用户")}}catch(t){r=!0,n=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw n}}}else t.$Message.error("获取数据失败",2)}).catch(function(e){t.$Message.error("查询发生错误",2)})}},watch:{$route:function(t,e){this.$router.go(0)}},created:function(){var t=this.$route.params.concertID,e=this.$route.params.concertName;this.concertID=t,this.concertName=e;var i=this;i.controlLcedit="/livehost/lcedit/"+this.concertID+"/"+this.concertName,i.controlIndex="/livehost/index/"+this.concertID+"/"+this.concertName,i.controlAdedit="/livehost/adedit/"+this.concertID+"/"+this.concertName,i.rankingPic="/livehost/rankingPic/"+this.concertID+"/"+this.concertName,i.danmakuSend="/importDanmaku/send/"+this.concertID+"/"+this.concertName,i.danmakuIndex="/importDanmaku/index/"+this.concertID+"/"+this.concertName,i.danmakuDataPage="/importDanmaku/data/"+this.concertID+"/"+this.concertName,i.area="/livehost/area/"+this.concertID+"/"+this.concertName,i.starBoardOperation="/livehost/starBoardOperation/"+this.concertID+"/"+this.concertName,i.$http.post(BASE+"/livehost/toLiveViewAngle.do",{concertID:i.concertID},{emulateJSON:!0}).then(function(t){var e=t.body.data;if("000000"==e.code){if(i.tb_data=e.data.list,null!=i.tb_data&&i.tb_data.size>0){var a=!0,r=!1,n=void 0;try{for(var o,s=i.tb_data[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;0==l.requireUserLevel?l.requireUserLevel="匿名用户":1==l.requireUserLevel?l.requireUserLevel="普通用户":2==l.requireUserLevel&&(l.requireUserLevel="VIP用户")}}catch(t){r=!0,n=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw n}}}}else i.$Message.error("获取数据失败",2)}).catch(function(t){i.$Message.error("查询发生错误",2)});var a={};history.pushState(a,"主页","/liveshow/index.html")}}},65:function(t,e){},66:function(t,e){},85:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Menu",{attrs:{mode:"horizontal",theme:t.theme1,"active-name":"1"}},[i("FONT",{staticClass:"font-class"},[t._v("\n\t\t\t\t\t基本信息\n\t\t\t\t")]),t._v(" "),i("font",{staticClass:"font-class1"},[t._v("演唱会id："+t._s(t.concertID))]),t._v(" "),i("font",{staticClass:"font-class1"},[t._v("演唱会名称："+t._s(t.concertName))])],1),t._v(" "),i("Menu",{attrs:{mode:"horizontal",theme:t.theme1,"active-name":"1"}},[i("FONT",{staticClass:"font-class"},[t._v("\n\t\t\t\t\t操作\n\t\t\t\t")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.controlLcedit}},[t._v("控制修改")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.controlIndex}},[t._v("直播修改")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.controlAdedit}},[t._v("广告修改")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.rankingPic}},[t._v("贡献榜快照")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.starBoardOperation}},[t._v("星光榜运营")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.danmakuSend}},[t._v("弹幕发送")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.danmakuIndex}},[t._v("弹幕送审")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.danmakuDataPage}},[t._v("互动数据")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:t.area}},[t._v("省份筛选")]),t._v(" "),i("router-link",{staticClass:"menu-a-class",attrs:{to:"/livehost/adlist"}},[t._v("回到直播控制主页")])],1),t._v(" "),i("br"),t._v(" "),i("div",{staticStyle:{color:"red","margin-left":"10%"}},[i("font",{attrs:{size:"5px"}},[t._v("\n\t\t    \t\t注意：1.请先添加主视角，再添加其他视角   2.视角添加完成后，请打开视角TAB  3.直播完后，请关闭视角TAB\n\t\t    \t")])],1),t._v(" "),i("Table",{attrs:{columns:t.tb_colums,data:t.tb_data}}),t._v(" "),i("Form",{attrs:{"label-width":120,inline:""}},[i("Input",{staticStyle:{"margin-left":"0%",width:"14.28%"},model:{value:t.input_ID,callback:function(e){t.input_ID=e},expression:"input_ID"}}),t._v(" "),i("Input",{staticStyle:{"margin-left":"0%",width:"14.28%"},model:{value:t.input_URL,callback:function(e){t.input_URL=e},expression:"input_URL"}}),t._v(" "),i("Input",{staticStyle:{"margin-left":"0%",width:"14.28%"},model:{value:t.input_title,callback:function(e){t.input_title=e},expression:"input_title"}}),t._v(" "),i("Input",{staticStyle:{"margin-left":"0%",width:"14.28%"},model:{value:t.input_viceTitle,callback:function(e){t.input_viceTitle=e},expression:"input_viceTitle"}}),t._v(" "),i("Select",{staticStyle:{width:"14.28%"},attrs:{placeholder:t.tabValue},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}},[i("Option",{attrs:{value:"0"}},[t._v("匿名用户")]),t._v(" "),i("Option",{attrs:{value:"1"}},[t._v("普通用户")]),t._v(" "),i("Option",{attrs:{value:"2"}},[t._v("VIP用户")])],1),t._v(" "),i("Input",{staticStyle:{"margin-left":"0%",width:"14.28%"},model:{value:t.input_order,callback:function(e){t.input_order=e},expression:"input_order"}}),t._v(" "),i("Button",{staticClass:"sub-class",staticStyle:{"margin-left":"90px"},attrs:{type:"success"},on:{click:t.addRow}},[t._v("添加")])],1),t._v(" "),i("Modal",{attrs:{title:"添加视角提示"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.tishi,callback:function(e){t.tishi=e},expression:"tishi"}},[i("p",[t._v("确认添加?")]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"fl",attrs:{type:"info"},on:{click:t.confirmAdd}},[t._v("是")]),t._v(" "),i("Button",{attrs:{type:"text"},on:{click:function(e){t.tishi=!1}}},[t._v("否")])],1)]),t._v(" "),i("Modal",{attrs:{title:"参数验证失败"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.failedAdd,callback:function(e){t.failedAdd=e},expression:"failedAdd"}},[i("p",[t._v(t._s(t.paramTishi))]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"info"},on:{click:t.failedAddOK}},[t._v("OK")])],1)]),t._v(" "),i("Modal",{attrs:{title:"删除视角提示"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.delTishi,callback:function(e){t.delTishi=e},expression:"delTishi"}},[i("p",[t._v("确定删除视角?")]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"info"},on:{click:t.delView}},[t._v("是")]),t._v(" "),i("Button",{attrs:{type:"text"},on:{click:function(e){t.delTishi=!1}}},[t._v("否")])],1)]),t._v(" "),i("Modal",{attrs:{title:"删除成功提示"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.postDel,callback:function(e){t.postDel=e},expression:"postDel"}},[i("p",[t._v("删除成功")]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"info"},on:{click:function(e){t.postDel=!1}}},[t._v("好的")])],1)])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});